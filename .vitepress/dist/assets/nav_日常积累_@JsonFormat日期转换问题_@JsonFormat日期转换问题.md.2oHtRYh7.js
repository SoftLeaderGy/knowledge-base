import{_ as o,c as t,o as a,a4 as e}from"./chunks/framework.CujM31lN.js";const q=JSON.parse('{"title":"@JsonFormat日期转换，少了一天问题","description":"","frontmatter":{},"headers":[],"relativePath":"nav/日常积累/@JsonFormat日期转换问题/@JsonFormat日期转换问题.md","filePath":"nav/日常积累/@JsonFormat日期转换问题/@JsonFormat日期转换问题.md","lastUpdated":1713767287000}'),n={name:"nav/日常积累/@JsonFormat日期转换问题/@JsonFormat日期转换问题.md"},r=e('<h1 id="jsonformat日期转换-少了一天问题" tabindex="-1">@JsonFormat日期转换，少了一天问题 <a class="header-anchor" href="#jsonformat日期转换-少了一天问题" aria-label="Permalink to &quot;@JsonFormat日期转换，少了一天问题&quot;">​</a></h1><h2 id="_1、问题描述" tabindex="-1">1、问题描述 <a class="header-anchor" href="#_1、问题描述" aria-label="Permalink to &quot;1、问题描述&quot;">​</a></h2><blockquote><p>在工作当中碰到了一个很奇怪的问题，日期类型的dto在接收数据之后使用@JsonFormat注解转换格式的时候发现少了一天。</p></blockquote><ul><li>刚开始以为是时区的问题，在实体类上面指定了<code>@JsonFormat(pattern = &quot;yyyy-MM-dd&quot;,timezone=&quot;GMT+8&quot;)</code></li><li>然后发现换成json后,小于 1991-09-14 22:59:59 这个时间的每年的5、6、7、8、9 月 小于 09-14 22:59:59 这个时间都少一个小时.</li></ul><h2 id="_2、背景知识" tabindex="-1">2、背景知识 <a class="header-anchor" href="#_2、背景知识" aria-label="Permalink to &quot;2、背景知识&quot;">​</a></h2><blockquote><ul><li>GMT(Greenwich Mean Time)：格林尼治标准时间。</li><li>北京时间使用东八区时间，即GMT加8个小时就是北京时间。</li><li>夏令时(Daylight Saving Time: DST)，也叫夏时制，是指为了节约能源，在天亮较早的夏季，人为将时间调快一小时。</li></ul></blockquote><h2 id="_3、问题原因" tabindex="-1">3、问题原因 <a class="header-anchor" href="#_3、问题原因" aria-label="Permalink to &quot;3、问题原因&quot;">​</a></h2><blockquote><p>中国在1986年至1991年实行过夏令时，即在这些年份北京时间比GMT提前9个小时。所以使用注解@JsonFormat(pattern = &quot;yyyy-MM-dd&quot;, timezone = &quot;GMT+8&quot;)看起来像是未起作用。</p></blockquote><h2 id="_4、解决方案" tabindex="-1">4、解决方案 <a class="header-anchor" href="#_4、解决方案" aria-label="Permalink to &quot;4、解决方案&quot;">​</a></h2><ul><li>使用注解 <code>@JsonFormat(pattern = &quot;yyyy-MM-dd&quot;, locale = &quot;zh&quot;, timezone = &quot;Asia/Shanghai&quot;)</code></li><li>代替原来的注解 <code>@JsonFormat(pattern = &quot;yyyy-MM-dd&quot;,timezone=&quot;GMT+8&quot;)</code></li></ul>',10),l=[r];function i(s,d,u,c,_,m){return a(),t("div",null,l)}const p=o(n,[["render",i]]);export{q as __pageData,p as default};
